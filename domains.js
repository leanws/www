// Copyright (c) 2018 Lean Web Solutions https://leanws.com

function zone(z){
this.dZone=z[0];
this.regPrice=z[1];
this.transPrice=z[2];
this.renewPrice=z[3]}
function ab(){
var self=this;
self.ad=ko.observableArray([[".co",[2999,1259],[2999],[3019]],[".biz",[1629,699],[1629],[1629]],[".us",[999,549],[999],[999]],[".com",[1199],[1199],[1199]],[".net",[1499],[1499],[1499]],[".org",[1399],[1399],[1399]],[".info",[1499],[1499],[1499]],[".me",[3299],[3299],[3299]]].map(z=>new zone(z)));
(self.ae=ko.observableArray(
[[".academy",[3299],[3299],[3309]],[".accountant",[1748],[3149],[999]],[".accountants",[10395,1259],[10395],[10395]],[".actor",[3995,839],[3995],[3995]],[".adult",[10845],[10845],[10849]],[".agency",[2129],[2129],[2139]],[".apartments",[5199],[5199],[5199]],[".archi",[7975],[7975],[7989]],[".army",[3199],[3199],[3199]],[".art",[1698],[1698],[1698]],[".arts.ro",[999],[999],[999]],[".asia",[1675],[1675],[1679]],[".associates",[3299],[3299],[3309]],[".attorney",[3945],[3945],[3959]],[".auction",[3199,839],[3199],[3199]],[".audio",[16995],[16995],[16995]],[".band",[2395],[2395],[2399]],[".bar",[7845],[7845],[7859]],[".bargains",[3299],[3299],[3309]],[".be",[849],[849],[849]]].map(z=>new zone(z))
.concat([[".beer",[3199],[3199],[3199]],[".best",[10975],[10975],[10979]],[".bet",[1875],[1875],[1879]],[".bid",[1648,499],[1648],[1648]],[".bike",[3299],[3299],[3309]],[".bingo",[5199],[5199],[5199]],[".bio",[7200],[7200],[7209]],[".black",[5645],[5645],[5649]],[".blackfriday",[16995],[16995],[16995]],[".blog",[3299],[3299],[3309]],[".blue",[1898],[1898],[1898]],[".boutique",[3199],[3199],[3199]],[".build",[7850],[7850],[7859]],[".builders",[3199],[3199],[3199]],[".business",[899],[899],[899]],[".buzz",[4299],[4299],[4299]],[".bz",[2529],[2529],[2529]],[".ca",[1748],[1748],[1748]],[".cab",[3199],[3199],[3199]],[".cafe",[3199],[3199],[3199]],[".cam",[3699],[3699],[3699]],[".camera",[5249],[5249],[5259]],[".camp",[5249],[5249],[5259]],[".capital",[5199],[5199],[5199]],[".cards",[3199],[3199],[3199]],[".care",[3199],[3199],[3199]],[".career",[11699],[11699],[11759]],[".careers",[5199],[5199],[5199]],[".casa",[994],[994],[994]],[".cash",[3299],[3299],[3309]],[".casino",[15599,3499],[15599],[15659]],[".catering",[3199],[3199],[3199]],[".cc",[2199],[2199],[2199]],[".center",[2299],[2299],[2299]],[".chat",[3199],[3199],[3199]],[".cheap",[3199],[3199],[3199]],[".city",[2299,549],[2299],[2299]],[".claims",[5199],[5199],[5199]],[".cleaning",[5299],[5299],[5299]],[".click",[1245],[1245],[1245]],[".clinic",[5199],[5199],[5199]],[".clothing",[3199],[3199],[3199]],[".cloud",[2295,909],[2295],[2295]],[".club",[1599,399],[1599],[1599]],[".cn",[1099],[1099],[1099]],[".co.com",[3119],[3119],[3179]],[".coach",[5199],[5199],[5199]],[".codes",[5199],[5199],[5199]],[".coffee",[3199],[3199],[3199]],[".college",[7148,978],[7148],[7209]],[".com.cn",[1099],[1099],[1099]],[".com.co",[1698],[1698],[1748]],[".com.ec",[5199],[5199],[5259]],[".com.ro",[999],[999],[999]],[".community",[3199],[3199],[3199]],[".company",[899],[899],[899]],[".computer",[3199],[3199],[3199]],[".condos",[5199],[5199],[5199]],[".construction",[3199],[3199],[3199]],[".consulting",[3119],[3119],[3179]],[".contractors",[3199],[3199],[3199]],[".cooking",[3119],[3119],[3179]],[".cool",[3299],[3299],[3309]],[".country",[3119],[3119],[3179]],[".coupons",[5399],[5399],[5399]],[".courses",[4029],[4029],[4089]],[".credit",[10269],[10269],[10329]],[".creditcard",[15469],[15469],[15529]],[".cricket",[1748],[3299],[999]],[".cruises",[5199],[5199],[5199]],[".cx",[2499],[2499],[2499]],[".dance",[2339],[2339],[2399]],[".date",[1698,499],[1698],[1698]],[".dating",[5199],[5199],[5199]],[".de",[1049],[1049],[1049]],[".deals",[3199],[3199],[3199]],[".degree",[4679],[4679],[4739]],[".delivery",[5199],[5199],[5199]],[".democrat",[3119],[3119],[3179]],[".dental",[5199],[5199],[5199]],[".dentist",[3899],[3899],[3959]],[".desi",[1948],[1948],[2009]],[".design",[5199,839],[5199],[5259]],[".diamonds",[5199],[5199],[5199]],[".diet",[16995],[16995],[16995]],[".digital",[3199],[3199],[3199]],[".direct",[3199],[3199],[3199]],[".directory",[2129],[2129],[2139]],[".discount",[3199],[3199],[3199]],[".doctor",[10399,839],[10399],[10459]],[".dog",[5259],[5259],[5259]],[".domains",[3199],[3199],[3199]],[".download",[1698,499],[1698],[1698]],[".earth",[2499],[2499],[2529]],[".ec",[5199],[5199],[5259]],[".eco",[8599],[8599],[8599]],[".education",[2129],[2129],[2139]],[".email",[2299],[2299],[2299]],[".energy",[10269],[10269],[10329]],[".engineer",[3119],[3119],[3179]],[".engineering",[5199],[5199],[5199]],[".enterprises",[3199],[3199],[3199]],[".equipment",[2129],[2129],[2139]],[".estate",[3199],[3199],[3199]],[".eu",[999,449],[999],[999]],[".events",[3199],[3199],[3199]],[".exchange",[3199],[3199],[3199]],[".expert",[5199],[5199],[5199]],[".exposed",[2129],[2129],[2139]],[".express",[3199],[3199],[3199]],[".fail",[3199],[3199],[3199]],[".faith",[999,909],[3149],[999]],[".family",[2469],[2469],[2529]],[".fans",[7929],[7929],[7989]],[".farm",[3199],[3199],[3199]],[".fashion",[3119],[3119],[3179]],[".feedback",[3249],[3249],[3309]],[".fin.ec",[5199],[5199],[5259]],[".finance",[5199],[5199],[5199]],[".financial",[5199],[5199],[5199]],[".firm.ro",[999],[999],[999]],[".fish",[3199],[3199],[3199]],[".fishing",[3119],[3119],[3179]],[".fit",[3119],[3119],[3179]],[".fitness",[3199],[3199],[3199]],[".flights",[5199],[5199],[5199]],[".florist",[3199],[3199],[3199]],[".flowers",[16995],[16995],[16995]],[".fm",[14499],[14499],[14499]],[".football",[2129],[2129],[2139]],[".forsale",[3119],[3119],[3179]],[".foundation",[3199],[3199],[3199]],[".fr",[1245],[1245],[1245]],[".fun",[2499,299],[2499],[2529]],[".fund",[5199],[5199],[5199]],[".furniture",[5199],[5199],[5199]],[".futbol",[1495],[1495],[1495]],[".fyi",[2129],[2129],[2139]],[".gallery",[2129],[2129],[2139]],[".game",[49999],[49999],[49999]],[".games",[1998],[1998],[2009]],[".garden",[3119],[3119],[3179]],[".gift",[2079],[2079],[2139]],[".gifts",[3199],[3199],[3199]],[".gives",[3119],[3119],[3179]],[".glass",[5259],[5259],[5259]],[".global",[7798,1609],[7798],[7859]],[".gold",[10269],[10269],[10329]],[".golf",[5199],[5199],[5199]],[".graphics",[2129],[2129],[2139]],[".gratis",[2129],[2129],[2139]],[".green",[7798],[7798],[7859]],[".gripe",[3199],[3199],[3199]],[".group",[2299],[2299],[2299]],[".guide",[3199],[3199],[3199]],[".guitars",[16995],[16995],[16995]],[".guru",[3299],[3299],[3309]],[".health",[8900],[8900],[8900]],[".healthcare",[5199],[5199],[5199]],[".help",[3499],[3499],[3499]],[".hiphop",[16995],[16995],[16995]],[".hockey",[5199],[5199],[5199]],[".holdings",[5199],[5199],[5199]],[".holiday",[5199],[5199],[5199]],[".horse",[3295],[3295],[3295]],[".hospital",[5799],[5799],[5799]],[".host",[10009,599],[10009],[10069]],[".hosting",[49999],[49999],[49999]],[".house",[3199],[3199],[3199]],[".how",[3249],[3249],[3309]],[".icu",[999,349],[999],[999]],[".immo",[3199],[3199],[3199]],[".in",[1199,529],[1199],[1199]],[".industries",[3199],[3199],[3199]],[".info.ec",[5199],[5199],[5259]],[".info.ro",[999],[999],[999]],[".ink",[2989],[2989],[3049]],[".institute",[2129],[2129],[2139]],[".insure",[5199],[5199],[5199]],[".international",[2129],[2129],[2139]],[".investments",[10269,839],[10269],[10329]],[".irish",[3595],[3595],[3595]],[".it",[1099],[1099],[1099]],[".jewelry",[5199],[5199],[5199]],[".jobs",[14949],[14949],[15009]],[".kitchen",[5199],[5199],[5259]],[".kiwi",[4029],[4029],[4089]],[".la",[3999],[3999],[3999]],[".land",[3199],[3199],[3199]],[".lat",[3299],[3299],[3309]],[".lawyer",[3899],[3899],[3959]],[".lease",[5199],[5199],[5199]],[".legal",[5199],[5199],[5199]],[".lgbt",[4679],[4679],[4739]],[".life",[3299],[3299],[3309]],[".lighting",[2129],[2129],[2139]],[".limited",[3199],[3199],[3199]],[".limo",[5199],[5199],[5199]],[".link",[1299],[1299],[1299]],[".live",[2469],[2469],[2529]],[".loan",[1698,499],[1698],[1698]],[".loans",[10269],[10269],[10329]],[".lol",[3249],[3249],[3309]],[".love",[3119],[3119],[3179]],[".ltd",[2299],[2299],[2299]],[".management",[2129],[2129],[2139]],[".market",[3119],[3119],[3179]],[".marketing",[3199],[3199],[3199]],[".markets",[6498],[6498],[6559]],[".mba",[3199],[3199],[3199]],[".med.ec",[5199],[5199],[5259]],[".media",[3199],[3199],[3199]],[".memorial",[5199],[5199],[5199]],[".men",[1698,499],[1698],[1698]],[".menu",[3899],[3899],[3959]],[".miami",[1998],[1998],[2009]],[".mn",[4939],[4939],[4999]],[".mobi",[2249],[2249],[2249]],[".moda",[3119],[3119],[3179]],[".mom",[4029],[4029],[4089]],[".money",[3199],[3199],[3199]],[".mortgage",[4679],[4679],[4739]],[".mx",[5069],[5069],[5129]],[".name",[1399],[1399],[1399]],[".navy",[3119],[3119],[3179]],[".net.cn",[1099],[1099],[1099]],[".net.ec",[5199],[5199],[5259]],[".network",[2129],[2129],[2139]],[".news",[2469,1259],[2469],[2529]],[".ngo",[4999],[4999],[4999]],[".nl",[1299],[1299],[1299]],[".nom.ro",[999],[999],[999]],[".nt.ro",[999],[999],[999]],[".nyc",[3119],[3119],[3179]],[".nz",[1689],[1689,1599],[1748]],[".one",[1199],[1199],[1229]],[".ong",[4999],[4999],[4999]],[".online",[4029],[4029],[3309]],[".ooo",[3119,499],[3119],[3179]],[".org.cn",[1099],[1099],[1099]],[".org.ro",[999],[999],[999]],[".partners",[5199],[5199],[5199]],[".parts",[3199],[3199],[3199]],[".party",[1698,499],[1698],[1698]],[".pet",[1819],[1819],[1879]],[".photo",[3119],[3119],[3179]],[".photography",[2299],[2299],[2299]],[".photos",[2129],[2129],[2139]],[".physio",[9489],[9489],[9549]],[".pics",[3499],[3499],[3499]],[".pictures",[1199],[1199],[1199]],[".pink",[1819],[1819],[1879]],[".pizza",[5199],[5199],[5199]],[".place",[3199],[3199],[3199]],[".plumbing",[5259],[5259],[5259]],[".plus",[3199],[3199],[3199]],[".pm",[1099],[1099],[1099]],[".poker",[5999],[5999],[5999]],[".press",[7798,978],[7798],[7859]],[".pro",[1819],[1819],[1859]],[".pro.ec",[5199],[5199],[5259]],[".productions",[3199],[3199],[3199]],[".promo",[1819],[1819],[1879]],[".properties",[3199],[3199],[3199]],[".property",[16995],[16995],[16995]],[".pub",[3119,839],[3119],[3179]],[".pw",[2599,299],[2599],[2659]],[".quebec",[3899],[3899],[3959]],[".racing",[999,909],[3149],[999]],[".re",[1199],[1199],[1199]],[".rec.ro",[999],[999],[999]],[".recipes",[5199],[5199],[5199]],[".red",[1819],[1819],[1879]],[".rent",[7148,978],[7148],[7209]],[".rentals",[3199],[3199],[3199]],[".repair",[3199],[3199],[3199]],[".report",[2129],[2129],[2139]],[".republican",[3119],[3119],[3179]],[".rest",[3999],[3999],[3999]],[".restaurant",[5199],[5199],[5199]],[".review",[999,909],[3149],[999]],[".reviews",[2339,839],[2339],[2399]],[".rip",[1948],[1948],[2009]],[".ro",[999],[999],[999]],[".rocks",[1299,549],[1299],[1359]],[".rodeo",[3119],[3119],[3179]],[".ru",[699],[699],[699]],[".run",[2129],[2129],[2139]],[".sale",[3119],[3119],[3179]],[".salon",[5199],[5199],[5199]],[".sc",[11709],[11709],[11759]],[".school",[3199],[3199],[3199]],[".science",[999,909],[3149],[999]],[".services",[3199],[3199],[3199]],[".shoes",[5199,1819],[5199],[5259]],[".shop",[3899,978],[3899],[3959]],[".shopping",[3249],[3249],[3309]],[".show",[3199],[3199],[3199]],[".singles",[3199],[3199],[3199]],[".site",[2989],[2989],[2529]],[".ski",[4999],[4999],[4999]],[".soccer",[2129],[2129],[2139]],[".social",[3119,1259],[3119],[3179]],[".software",[3119],[3119],[3179]],[".solar",[5259],[5259],[5259]],[".solutions",[2209],[2209],[2269]],[".soy",[2859],[2859],[2919]],[".space",[2599,399],[2599],[2659]],[".srl",[4159],[4159],[4219]],[".store",[5999,1119],[6369],[5999]],[".store.ro",[999],[999],[999]],[".stream",[1698,499],[1698],[1698]],[".studio",[2469],[2469],[2529]],[".study",[3249],[3249],[3309]],[".style",[3199],[3199],[3199]],[".supplies",[2129],[2129],[2139]],[".supply",[2129],[2129],[2139]],[".support",[2129],[2129],[2139]],[".surf",[3119],[3119],[3179]],[".surgery",[5199],[5199],[5199]],[".sx",[3899],[3899],[3939]],[".systems",[2209],[2209],[2269]],[".tattoo",[5199],[5199],[5199]],[".tax",[5199],[5199],[5199]],[".taxi",[5199],[5199],[5199]],[".team",[3199],[3199],[3199]],[".tech",[3439,1259],[5199],[3439]],[".technology",[2129],[2129],[2139]],[".tel",[1798],[1798],[1798]],[".tennis",[5199],[5199],[5199]],[".tf",[1199],[1199],[1199]],[".theater",[5199],[5199],[5199]],[".tienda",[5199],[5199],[5199]],[".tips",[2299,1259],[2299],[2299]],[".tires",[10269],[10269],[10329]],[".tm.ro",[999],[999],[999]],[".today",[2299],[2299],[2299]],[".tools",[3399],[3399],[3399]],[".top",[1099,299],[1099],[1099]],[".tours",[5199],[5199],[5199]],[".town",[3199],[3199],[3199]],[".toys",[5199,839],[5199],[5259]],[".trade",[1698,499],[1698],[1698]],[".trading",[7929],[7929],[7989]],[".training",[3199],[3199],[3199]],[".travel",[12999],[12999],[12999]],[".tube",[3249],[3249],[3309]],[".tv",[4345],[4345],[4345]],[".uk",[999],[999],[999]],[".university",[5199],[5199],[5199]],[".uno",[1998],[1998],[2009]],[".us.com",[2469],[2469],[2529]],[".us.org",[2399],[2399],[2399]],[".vacations",[3199],[3199],[3199]],[".vc",[3899],[3899],[3959]],[".vegas",[6239],[6239],[6299]],[".ventures",[5199],[5199],[5199]],[".vet",[3119],[3119],[3179]],[".video",[2339],[2339],[2399]],[".villas",[5199],[5199],[5199]],[".vin",[5199],[5199],[5199]],[".vip",[1689],[1689],[1748]],[".vision",[3199],[3199],[3199]],[".vodka",[3119],[3119],[3179]],[".vote",[7798],[7798],[7859]],[".voyage",[5199],[5199],[5199]],[".watch",[3199],[3199],[3199]],[".webcam",[2899,909],[3119],[2899]],[".website",[1879,699],[2209],[1879]],[".wedding",[3119],[3119],[3179]],[".wf",[1199],[1199],[1199]],[".wiki",[2989],[2989],[3049]],[".win",[1698,499],[1698],[1698]],[".wine",[5199],[5199],[5199]],[".work",[999],[999],[999]],[".works",[3299],[3299],[3309]],[".world",[3249],[3249],[3309]],[".ws",[2859],[2859],[2899]],[".wtf",[3199],[3199],[3199]],[".www.ro",[999],[999],[999]],[".xyz",[1299,299],[1299],[1359]],[".yoga",[3249],[3249],[3309]],[".yt",[1199],[1199],[1199]],[".zone",[3249],[3249],[3309]]].map(function(z){
var zz=new zone(z);zz._destroy=true;return zz}))))
.extend({rateLimit:1000});
self.ac=ko.observable(false);
self.bb=function(){
self.ac(false);
for(var i=20;i<self.ae().length;i++)
self.ae.destroy(self.ae()[i])};
self.bc=function(){
Packages.preloader.show();
self.ac(true);
for(var i=20;i<self.ae().length;i++)self.ae()[i]._destroy=false;
self.ae.valueHasMutated();
Packages.preloader.hide()}
self.remove=function(zon){self.ae.push(zon);self.ad.remove(zon);self.be()};
self.add=function(zon){
if (self.ad().length >=20){showInfo("Max 20 zones allowed.")}
else{self.ad.push(zon);self.ae.remove(zon);self.bf()}};
self.be=function(){self.ae.sort ((l, r)=> l.dZone==r.dZone ? 0:(l.dZone < r.dZone ? -1:1))}
self.bf=function(){self.ad.sort((l, r)=> l.dZone==r.dZone ? 0:(l.dZone < r.dZone ? -1:1))}}
function ag(bj){
var result={};
for (i=0;i < cs.ad().length;i++){
if (-1 !=bj.indexOf(cs.ad()[i].dZone)){
result[cs.ad()[i].dZone]=
{"regPrice":cs.ad()[i].regPrice,
"transPrice":cs.ad()[i].transPrice,
"renewPrice":cs.ad()[i].renewPrice}}}
return result}
var tld=(domainName)=>"."+domainName.split(".").slice(1).join(".");
Packages.load("validator");
function procDN(DN){
hideID("theTable");
var bh='.~`\\^\\$%,!@&_*\\(\\)=\\[\\]\\"\' ',
domainName=validator.blacklist(DN,bh).trim(),
nh=domainName.indexOf("-")+1;
return (domainName.slice(0,nh)+validator.blacklist(domainName.slice(nh),"-")).toLowerCase()}
function testDN(DN){return DN !=""}
function extraData(formData){
showInfo('Checking takes up to three seconds per zone…',3);
return{"zones":cs.ad().map(x=>x.dZone)}}
function onSuccess(response){
var ay=[],transfer=false,discount=false;
['transfer','discount'].forEach(x=>{hideID(x);displayDB[x]='block'});
for(var domain in response["domains"]){ay.push(tld(domain))}
var bw=ag(ay),table='<table>\n<thead><tr>\n',
columnNames1=["domain name","registration"],columnNames2=["transfer","renewal"];
table+=columnNames1.map((cn)=>'<th>'.concat('',cn,'</th>')).reduce((x,y)=>x+y);
table+=columnNames2.map((cn)=>'<th class="wide">'.concat('',cn,'</th>')).reduce((x,y)=>x+y);
table+='</tr></thead>\n<tbody>\n';
for(var domain in response["domains"]){
table+="<tr>";
var az=Boolean(response["domains"][domain]["status"]==1);
if(az){table+='<td class="free">'+domain+"</td>"}
else{transfer=true;table+='<td class="busy">'+domain+"</td>"}
if(bw[tld(domain)]["regPrice"].length==1){
if(az){table+='<td class="free">$'+bw[tld(domain)]["regPrice"][0]/100+"/yr.</td>"}
else{table+="<td>N/A</td>"}}
else{
discount=true;
if(az){
table+='<td class="free"><s>$'+bw[tld(domain)]["regPrice"][0]/100+"</s>&nbsp;$"+bw[tld(domain)]["regPrice"][1]/100+"/yr.</td>"}
else{table+="<td>N/A</td>"}};
["transPrice"].forEach(function(x){
if(bw[tld(domain)][x].length==1){
if(az){table+='<td class="wide">N/A</td>'} else{table+='<td class="wide">$'+bw[tld(domain)][x][0]/100+'</td>'}}
else{
if(az){table+='<td class="wide">N/A</td>'}
else{
table+='<td class="wide"><s>$'+bw[tld(domain)][x][0]/100+'</s>&nbsp;$'+bw[tld(domain)][x][1]/100+'</td>'}}});
["renewPrice"].forEach(function(x){
if(bw[tld(domain)][x].length==1){
if(az){table+='<td class="wide">N/A</td>'} else{
table+='<td class="wide">$'+bw[tld(domain)][x][0]/100+'/yr.</td>'}}
else{
if(az){table+='<td class="wide">N/A</td>'}
else{
table+='<td class="wide"><s>$'+bw[tld(domain)][x][0]/100+'</s>&nbsp;$'+bw[tld(domain)][x][1]/100+'/yr.</td>'}}});
table+="</tr>"}
if(discount)showID("discount");if(transfer)showID("transfer");
table+="</tbody></table>\n";
showID("theTable");html("gotTable",table);Packages.preloader.hide()}
var cs;
Packages.load("KO","preloader.js",'LWS','forms.js').then(function(){
cs=new ab();
ko.applyBindings(cs,IDget('cs'));
Packages.preloader.hide();showClass("loaded");
if(-1==Packages.forms.buttonsDone.indexOf("dsButton")) Packages.forms.buttonSetup(IDget("dsButton"));
cs.bf();cs.be();
cs.ae.extend({rateLimit:50})});
Packages.load("validator");
